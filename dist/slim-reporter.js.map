{"version":3,"file":"slim-reporter.js","sources":["../src/utils.js","../src/events.js","../src/logEvent.js","../src/results/status.js","../src/results/tree.js","../src/results/resolvePath.js","../src/states/Failure.js","../src/states/Log.js","../src/states/state.js","../src/options.js","../src/looks/theme.js","../src/looks/style.js","../src/components/Entry.js","../src/components/Entries.js","../src/components/Title.js","../src/components/Loading.js","../src/components/Report.js","../src/components/Summary.js","../src/components/Failures.js","../src/components/Log.js","../src/render.js","../src/io/print.js","../src/io/resize.js","../src/io/clock.js","../src/index.js"],"sourcesContent":["export const id = x => x;\nconst compose = (f, g) => x => f(g(x));\nconst apply = (f, x) => f(x);\nexport const pipe = (...fs) => fs.reduceRight(compose, id);\nexport const _ = f => (x, ...xs) => xs.reduce(apply, f(x));\nexport const eq = a => b => a === b;\nexport const prop = p => a => a[p];\nexport const defined = x => x !== undefined;\nexport const hasProp = _(p => pipe(prop(p), defined));\nexport const either = _(p => t => f => x => p(x) ? t(x) : f(x));\nexport const or = _(f => g => x => f(x) || g(x));\nexport const head = ([x]) => x;\nexport const last = arr => arr[arr.length -1];\nexport const init = arr => arr.slice(0, -1);\nexport const empty = arr => !arr.length;\nexport const not = f => (...xs) => !f(...xs);\n\nexport const $ = method => (...args) => a => {\n    if (!a || !a[method])\n        throw new Error(`${a} doesn't have a method ${method}`);\n    return a[method](...args)\n};\n\nexport const map = f => a =>\n    Array.isArray(a)\n    ? a.map(f)\n    : Object.fromEntries(\n        Object.entries(a).map(f)\n    )\n;\n\nexport const $$ = (...xs) => xs.map($);\n\nexport const repeat = _(s => n => Array(n).fill(s).join(''));\nexport const spaces = repeat(' ');\nexport const wrap = (before, after = before) => x => before + x + after;\nexport const splitJoin = (f, s1, s2 = s1) => str =>\n    f(str.split(s1)).join(s2)\n;\n\nexport const indent = _(n =>\n    splitJoin(xs => xs.map(x => spaces(n) + x), '\\n')\n);\n\nexport const safe = f => {\n    let out;\n    try {\n        out = f()\n    } catch {\n        out = null\n    }\n    return out;\n};\n","import { _, not } from './utils.js';\n\nexport const Event = (type, value) => {\n    const is = (...xs) => xs.reduce(\n        (a, b) => a || b === type,\n        false\n    );\n    const isNot = not(is);\n    return { value, is, isNot };\n};\n\nexport const passEvent = _(store => f => type => value =>\n    f({ ...store.frame, event: Event(type, value) })\n);\n","const isLog = text =>\n    text && text.substring(0, 4) === '#   '\n;\n\nconst cleanup = t => t.replace('#   ', '');\n\nconst removeLastReturn = log =>({\n    ...log, message: log.message.replace(/\\n$/m, '')\n});\n\nconst concatMessage = (log, message) => ({\n    ...log, message: log.message + message\n});\n\nconst local = {\n    result: null,\n    log: null\n};\n\n// comments are emitted line by line with no reference to their parent result\n\nexport default (send, source) => value => {\n    const { log, result } = local;\n\n    if(source.is('comment') && isLog(value)) {\n        const message = cleanup(value);\n        if(log && log.result === result) {\n            local.log = concatMessage(log, message);\n        } else {\n            local.log = { result, message };\n        }\n    } else if (source.is('result')) {\n        if (log) send(removeLastReturn(log))\n        local.result = value;\n        local.log = null;\n    } else if (source.is('complete')) {\n        if(log) send(removeLastReturn(log))\n    }\n};\n","import { hasProp, either, eq, $ } from '../utils.js';\nconst map = $('map');\n\nconst reduceStatus = xs =>\n      xs.every(eq('pass')) ? 'pass'\n    : xs.find(eq('fail'))  ? 'fail'\n    : xs.every(eq('todo')) ? 'todo'\n    : xs.every(eq('skip')) ? 'skip'\n    : 'mixed'\n;\n\nconst isLeaf = hasProp('ok');\n\nconst getStatus = searchChild => either(\n    isLeaf,\n    x =>\n          x.skip ? 'skip'\n        : x.todo ? 'todo'\n        : x.ok ? 'pass'\n        : 'fail',\n    searchChild\n);\n\nexport const statusOf = getStatus(\n    childNode =>\n    childNode\n    |> Object.values\n    |> map(getStatus(statusOf))\n    |> reduceStatus\n);\n","import { hasProp } from '../utils.js';\nimport { statusOf } from './status.js';\nimport { $$, _ } from '../utils.js';\nconst [find, reduce] = $$('find', 'reduce');\n\nconst push = (path, result, node, index = 0) => {\n    const name = path[index];\n    const next = node ? node[name] : {};\n    const done = index === path.length - 1;\n    return done\n        ? { ...node, [name]: result }\n        : { ...node, [name]: push(path, result, next, index + 1) }\n    ;\n};\n\nconst isLeaf = hasProp('ok');\n\nconst flattenBranches = level => ([text, node]) => {\n    const entry = {\n        text, level, isLeaf: isLeaf(node), status: statusOf(node)\n    };\n\n    return (!isLeaf(node))\n        ? [entry, ...fold(node, level + 1)]\n        : [entry]\n    ;\n};\n\nconst fold = (node, level = 0) =>\n    Object.entries(node)\n    .flatMap(flattenBranches(level))\n;\n\nconst last = arr => arr[arr.length -1];\n\nconst getLastResult = node =>\n    !isLeaf(node)\n    ? getLastResult(last(Object.entries(node)))\n    : node\n;\n\nconst ResultsTree = (pathResolver, root = {}) => ({\n    root,\n    push: result => ResultsTree(pathResolver, push(pathResolver(result), result, root)),\n    entries: () => fold(root),\n    latest: () => getLastResult(root)\n});\n\nconst findResult = (name, i) =>\n    find(({ level, text }) => level === i && name === text)\n;\n\nexport const filterResults = _(results =>\n    reduce((acc, name, i) =>\n        [ ...acc, findResult(name, i)(results) ],\n    [])\n);\n\nexport default ResultsTree;\n","export const resolvePath = name => name.split(' › ');","import { resolvePath } from '../results/resolvePath.js';\nimport { pipe, $$ } from '../utils.js';\nconst [join, match, includes] = $$('join', 'match', 'includes')\n\nconst isNoTestFound = includes('No tests found in');\nconst isException = includes('exited with a non-zero exit code');\nconst isUncaughtException = includes('exited with a non-zero exit code: 1');\nconst isExceptionHandlerRunTimeFailure = includes('exited with a non-zero exit code: 7');\n\nconst standardName = join(' › ');\n\nconst noTestFoundToStandard = pipe(\n    match(/^No tests found in [^/]+\\/(.+)\\..*js/),\n    match => match && match[1].split('/'),\n    standardName\n);\n\nconst exceptionToStandard = pipe(\n    match(/^[^/]+\\/(.+)\\..*js exited with a non-zero exit code:/),\n    match => match && match[1].split('/'),\n    standardName\n);\n\nconst normaliseName = name =>\n    isNoTestFound(name)\n    ? noTestFoundToStandard(name)\n    : isException(name)\n    ? exceptionToStandard(name)\n    : name\n;\n\nconst diagName = name =>\n    isNoTestFound(name)\n    ? 'NoTestFound'\n    : isUncaughtException(name)\n    ? 'UncaughtException'\n    : isExceptionHandlerRunTimeFailure\n    ? 'ExceptionHandlerRunTimeFailure'\n    : 'Error'\n;\n\nconst normaliseFailure = result =>\n    result.diag\n    ? result\n    : {\n        ...result,\n        name: normaliseName(result.name),\n        diag: {\n            name: diagName(result.name),\n            message: result.name,\n        }\n    }\n;\n\nconst resultToEntries = result => {\n    const path = resolvePath(result.name);\n    const isLeaf = i => path.length - 1 === i;\n    return path.map((text, level) => ({\n        text, level, isLeaf: isLeaf(level), status: 'fail'\n    }))\n};\n\nconst isFailure = result => !result.ok && !result.todo;\n\nexport default value =>\n    !isFailure(value)\n    ? null\n    : (value\n        |> normaliseFailure\n        |> (result => ({\n            result, entries: resultToEntries(result)\n        }))\n    )\n;","import { _ } from '../utils.js';\nimport { filterResults } from '../results/tree.js';\nimport { resolvePath } from '../results/resolvePath.js';\n\nexport const computeEntries = _(results => log => ({\n    ...log, subset: filterResults(results, log.path)\n}));\n\nexport const assocPath = _(log => ({\n    ...log, path: resolvePath(log.result.name)\n}));","import ResultsTree from '../results/tree.js';\nimport { resolvePath } from '../results/resolvePath.js';\nimport Failure from './Failure.js';\nimport * as Log from './Log.js';\n\nexport const init = () => ({\n    frame: {\n        event: null,\n        needsUpdate: false,\n        write_lock: false,\n        elapsed: 0,\n        resultsTree: ResultsTree(({ name }) => resolvePath(name)),\n        results: [],\n        logs: [],\n        failures: [],\n        summary: null,\n        render: '',\n        end: false\n    }\n});\n\nexport const mutate = store => state => {\n    store.frame = { ...state };\n    return state;\n};\n\n\nconst updateLogs = ({ results, logs, event }) =>\n    event.is('log')\n    ? [...logs, Log.assocPath(event.value)]\n    : event.is('complete')\n    ? logs.map(Log.computeEntries(results))\n    : logs\n;\n\nconst updateResults = ({ failures, resultsTree, event }) => {\n    if (!event.is('result')) return {};\n\n    const { value } = event;\n\n    const failure = Failure(value);\n\n    const newTree = resultsTree.push(\n        failure && failure.result || value\n    );\n\n    return {\n        resultsTree: newTree,\n        results: newTree.entries(),\n        failures: failure ? [...failures, failure] : failures\n    };\n};\n\nconst updateElapsed = ({ elapsed }) =>\n    elapsed + 1\n;\n\nconst updateSummary = ({ summary, event }) =>\n    event.is('complete')\n    ? event.value\n    : summary\n;\n\nconst updateNeedsUpdate = ({ event }) =>\n    event.isNot('write', 'log', 'fail')\n;\n\nconst updateWriteLock = ({ write_lock, event }) =>\n    event.is('write')\n    ? event.value.write_lock\n    : write_lock\n;\n\n\nconst updateEnd = ({ write_lock, summary, event }) =>\n    event.isNot('complete') && summary && !write_lock\n;\n\nexport const update = state => ({\n    ...state,\n    ...updateResults(state),\n    logs: updateLogs(state),\n    elapsed: updateElapsed(state),\n    summary: updateSummary(state),\n    needsUpdate: updateNeedsUpdate(state),\n    write_lock: updateWriteLock(state),\n    end: updateEnd(state)\n});\n","import { defined, $ } from './utils.js';\nconst split = $('split');\n\nconst options = process.argv\n    .slice(2)\n    .map(split('='))\n    .reduce((acc, [key, val]) => {\n        acc[key] = defined(val) ? val : true;\n        return acc;\n    }, {})\n;\n\nexport const width = () =>\n    Math.min(process.stdout.columns, options['max-width'] || Infinity)\n;\nexport const indent = options.indent || 2;\nexport const verbose = Boolean(options.verbose);\nexport const resize = Boolean(options.resize);\nexport const themeVariant = options.theme || 'dark';\n","import chalk from 'chalk';\nimport { readFileSync } from 'fs';\nimport { themeVariant } from '../options.js';\nimport { id, pipe, map, safe, _ } from '../utils.js';\n\nconst defaultDescription = {\n    dark: {\n        text: {\n            default: [0, 0, 85],\n            pass: [100, 100, 37],\n            fail: [0, 100, 60],\n            info: [223, 30, 30],\n            skip: [50, 100, 50],\n            todo: [200, 100, 55],\n            mixed: [0, 0, 65],\n            run:  [270, 80, 65],\n            digit: [55, 100, 55],\n            braces: [255, 80, 70],\n            word: [16, 87, 65]\n        },\n        background: {\n            fail: [355, 50, 27],\n            info: [223, 27, 22],\n            log: [215, 35, 27],\n            '+': [160, 30, 25],\n            '-': [340, 30, 25],\n        }\n    },\n    light: {\n        text: {\n            default: [0, 0, 35],\n            pass: [100, 100, 37],\n            fail: [0, 100, 60],\n            info: [220, 65, 96],\n            skip: [50, 100, 50],\n            todo: [200, 100, 55],\n            mixed: [0, 0, 65],\n            run:  [270, 80, 65],\n            digit: [16, 100, 55],\n            braces: [255, 80, 70],\n            word: [165, 100, 37]\n        },\n        background: {\n            fail: [0, 100, 86],\n            info: [220, 55, 93],\n            log: [180, 45, 90],\n            '+': [160, 50, 90],\n            '-': [340, 50, 90],\n        }\n    }\n};\n\nconst emptyVariant = { text: {}, background: {} };\n\nconst getUserTheme = () => JSON.parse(\n    readFileSync(\n        './slim-reporter-theme.json',\n        { encoding: 'utf8', flag: 'r' }\n    )\n);\n\nconst readColors = _(model => map(\n    ([key, value]) => [key, chalk[model](...value)]\n));\n\nconst readVariant = (d, { text, background }) => ({\n    text: readColors('hsl', { ...d.text, ...text }),\n    background: {\n        ...readColors('bgHsl', { ...d.background, ...background }),\n        ... { ' ': id }\n    }\n});\n\nconst readTheme = _(dfault => pipe(\n    theme => theme ? { ...dfault, ...theme } : dfault,\n    map(([name, variant]) =>\n        [name, readVariant(dfault[name] || emptyVariant, variant)]\n    ),\n));\n\nconst theme = readTheme(defaultDescription, safe(getUserTheme));\n\nexport default theme[themeVariant] || theme.dark;\n","import stripAnsi from 'strip-ansi';\nimport chalk from 'chalk';\nimport theme from './theme.js';\nimport { pipe, init, spaces, last, $$, _ } from '../utils.js';\nconst [replace, split, reduce, map] = $$('replace', 'split', 'reduce', 'map');\n\nexport const hasStyle = x => x !== stripAnsi(x);\nexport const length = text => stripAnsi(text).length;\n\nexport const colors = theme.text;\nexport const bg = theme.background;\n\nexport const italic = chalk.italic;\nexport const underline = chalk.underline;\nexport const bold = chalk.bold;\n\nexport const icons = {\n    pass: colors.pass('✔'),\n    fail: colors.fail.bold('⨯'),\n    skip: colors.skip.bold('>'),\n    todo: colors.todo.bold('❏'),\n    mixed: colors.mixed.bold('✎'),\n    run: colors.run.bold('⚑'),\n    '+': colors.pass.bold('+'),\n    '-': colors.fail.bold('-'),\n    ' ': ' '\n};\n\nconst match = reg => str => {\n    const matches = reg.exec(str);\n    return matches && matches[1];\n};\n\n\nexport const isJSONLike = str => {\n    const first = match(/^\\s*(\\S)/);\n    const last = match(/(\\S)\\s*$/);\n    const startBrackets = ['[', '{'];\n    const endBrackets = { '[': ']', '{': '}' };\n    return (\n        startBrackets.includes(first(str))\n        && endBrackets[first(str)] === last(str)\n    );\n};\n\nexport const syntaxColor = pipe(\n    replace(/(\\{|\\}|\\[|\\])/g, colors.braces('$1')),\n    replace(/( \\d+)/g, colors.digit('$1')),\n    replace(/( \\w+:)/g, colors.default('$1')),\n    replace(/,/g, colors.default(',')),\n    colors.word\n);\n\nexport const entryStyle = _(level => isLeaf => text =>\n    isLeaf\n    ? text\n    : level === 0\n    ? bold(text)\n    : level === 1\n    ? underline(text)\n    : text\n);\n\nexport const wrapLine = _(max => indent => str => {\n    const separators = /[ /;:,.-]/g;\n    const match = str.match(separators);\n\n    return str\n        |> split(separators)\n        |> reduce((lines, word, i) => {\n            const latest = last(lines);\n            const len = length(word) + indent + length(latest) + 1;\n            const next = word + (match && match[i] || '');\n\n            return (len > max)\n                ? [...lines, next]\n                : [...init(lines), latest + next];\n        }, [''])\n        |> map(x => x.trimEnd())\n        |> map((x, i) => !i ? x : spaces(indent) + x)\n    ;\n});","import { spaces, $$ } from '../utils.js';\nimport { icons, entryStyle } from '../looks/style.js';\nconst [map, join] = $$('map', 'join');\n\nconst layout = indent => ({ level, status }) => (line, i) =>\n    i !== 0 ? line\n    : indent(level) + icons[status] + ' ' + line\n;\n\nconst formatEntry = (wrap, layout) => entry =>\n    entry.text\n    |> entryStyle(entry.level, entry.isLeaf)\n    |> wrap(entry.level)\n    |> map(layout(entry))\n    |> join('\\n')\n;\n\nexport default (indent, wrapLine) => entry => {\n    const indentBy = n => spaces(n * indent);\n    const wrap = level => wrapLine(level * indent + 2);\n\n    return entry |> formatEntry(wrap, layout(indentBy));\n};\n","import { pipe, last, init, empty, $$ } from '../utils.js';\nconst [map, reduce, flatMap, join] = $$('map', 'reduce', 'flatMap', 'join');\n\nconst belongsToNextSuite = (groups, entry) => {\n    const lastEntry = last(last(groups));\n    return entry.level < lastEntry.level\n    || !entry.isLeaf && lastEntry.isLeaf\n}\n\nconst groupBySuite = reduce((groups, entry) =>\n    empty(groups)\n    ? [[entry]]\n    : belongsToNextSuite(groups, entry)\n    ? [...groups, [entry]]\n    : [...init(groups), [...last(groups), entry]]\n, []);\n\nexport default Entry => pipe(\n    groupBySuite,\n    map(flatMap(Entry)),\n    map(join('\\n')),\n    join('\\n\\n')\n);\n\n","import { hasStyle, length } from '../looks/style.js';\nimport { spaces, _ } from '../utils.js';\n\nconst _title = (color, width, text='') => {\n    const w = Math.max(2, width - length(text));\n    const space = spaces(Math.floor(w / 2));\n    return color(space + text + space);\n}\n\nexport default (width, wrapLine) => _(color => text => {\n    const render = text => _title(color, width(), text);\n\n    return hasStyle(text)\n        ? render(text)\n        : wrapLine(width() - 1, 1, text)\n            .map(render)\n            .join('\\n')\n    ;\n});\n","import { repeat } from '../utils.js';\n\nexport const dots = (n, i) =>\n    i === undefined\n    ? i => dots(n, i)\n    : repeat('.', (i + 1) % (n + 1))\n;\n\nexport default waits => 'awaiting results' + dots(3, waits);","import { bg } from '../looks/style.js';\nimport { pipe, _, $ } from '../utils.js';\nconst join = $('join');\n\nconst layout = _(Title => pipe(\n    report => [\n        Title(bg.info, 'Test Report'),\n        report.replace(/^\\n*/, '')\n    ],\n    join('\\n\\n'),\n));\n\nexport default _(Entries => Title => pipe(\n    Entries,\n    xs => xs.length ? layout(Title, xs) : ''\n));","import { icons, colors, bg } from '../looks/style.js';\nimport { id, pipe, $$, _ } from '../utils.js';\nconst [filter, join] = $$('filter', 'join');\n\nconst print = (s, x) =>\n    !x ? null : colors[s](icons[s] + ' ' + x)\n;\n\nconst space = pipe(filter(id), join(colors.info.bold(' | ')));\n\n\nconst render = ({ count, fail, pass, skip, todo }) =>\n    space([\n        print('run', count - todo - skip),\n        print('pass', pass - skip),\n        print('fail', fail - todo),\n        print('skip', skip),\n        print('todo', todo)\n    ])\n;\n\nexport default _(Title => summary =>\n    Title(bg.info, render(summary))\n);\n","import { icons, bg, bold, syntaxColor, isJSONLike } from '../looks/style.js';\nimport {id, splitJoin, wrap, pipe, prop, indent, either, $$, _ } from '../utils.js';\nconst [replace, join, map] = $$('replace', 'join', 'map');\n\nconst difference = prop('Difference:');\n\nconst extractAt = diag =>\n    !diag.at\n    ? null\n    : diag.at.split('\\n')\n;\n\nconst multiline = arr => arr.length > 1;\n\nconst coordOf = replace(/^.+(?:\\..*js).*?:/, '');\n\nconst bannerText = ({ name, assertion }, at) => {\n    const detail = assertion && wrap('(', ')')(assertion);\n    return [name, detail, at].filter(id).join(' ')\n}\n\nconst DiffFailure = values => {\n    const style = (type, line) =>\n        line\n        |> syntaxColor\n        |> bg[type]\n        |> replace(type, icons[type])\n    ;\n\n    const details = values\n        |> difference\n        |> splitJoin(\n            map(line =>\n                line && style(line[0], line)\n            ), '\\n'\n        )\n        |> (x => '\\n' + x)\n    ;\n\n    return 'Difference:\\n' + details;\n}\n\nconst DetailedFailure = (message, values, wrapLine) => {\n    const details = values\n        |> Object.values\n        |> join('/n')\n        |> wrapLine(0)\n        |> join('/n')\n        |> indent(3)\n        |> syntaxColor\n        |> (x => '\\n' + x)\n    ;\n\n    return message + ':\\n' + details;\n}\n\n\nconst LaconicFailure = (message, wrapLine) => {\n    const nbsp = '\\xa0';\n    const formatMessage = pipe(\n        x => bold('“') + nbsp + x + nbsp + bold('”'),\n        wrapLine(2),\n        join('\\n')\n    );\n\n    return message |> either(isJSONLike, id, formatMessage);\n};\n\nconst Failure = ({ message, values }, wrapLine) =>\n    !values\n    ? LaconicFailure(message, wrapLine)\n    : difference(values)\n    ? DiffFailure(values)\n    : DetailedFailure(message, values, wrapLine)\n;\n\nconst atInBanner = at =>\n    at && !multiline(at)\n    ? `at ${coordOf(at[0])}`\n    : null\n;\n\nconst atInText = (indentation, wrapLine, at) =>\n    at && multiline(at)\n    ? `at:\\n${\n        at\n        |> map(x => '- ' + x)\n        |> map(pipe(wrapLine(indentation), join('\\n')))\n        |> join('\\n')\n        |> indent(indentation)\n      }\\n`\n    : null\n;\n\nexport default _(Entries => Title => wrapLine => indentation => map(\n    ({ result, entries }) => {\n        const at = extractAt(result.diag);\n        return [\n            Title(bg.fail, bannerText(result.diag, atInBanner(at))),\n            wrap('\\n')(Entries(entries)),\n            atInText(indentation, wrapLine, at),\n            Failure(result.diag, wrapLine)\n        ].filter(id).join('\\n')\n    })\n);\n","import { bg, syntaxColor, isJSONLike } from '../looks/style.js';\nimport { id, pipe, either, $$, _ } from '../utils.js';\nconst [map, join] = $$('map', 'join');\n\nconst layout = title => pipe(\n    ({ origin, message }) => [\n        title, [origin, message].join('\\n')\n    ],\n    join('\\n\\n')\n);\n\nconst formatMessage = either(isJSONLike, syntaxColor, id);\n\nconst format = Entries => ({ subset, message }) => {\n    const origin = Entries(subset) + '\\n';\n    return { origin, message: formatMessage(message) };\n};\n\nexport default _(Entries => Title => map(pipe(\n    format(Entries),\n    layout(Title(bg.log, 'Log'))\n)));\n","import Entry from './components/Entry.js';\nimport Entries from './components/Entries.js';\nimport Title from './components/Title.js';\nimport Loading from './components/Loading.js';\nimport Report from './components/Report.js';\nimport Summary from './components/Summary.js';\nimport Failures from './components/Failures.js';\nimport Log from './components/Log.js';\nimport { id, pipe, indent, wrap, $$ } from './utils.js';\nimport { wrapLine } from './looks/style.js';\nconst [filter, join] = $$('filter', 'join');\n\nconst layout = ({ width }) => pipe(\n    filter(id),\n    join('\\n\\n'),\n    indent((process.stdout.columns - width()) / 2 | 0),\n    wrap('\\n'),\n);\n\nconst render = ({ width, indent, verbose }) => {\n    const $partialWrap = wrapLine(width());\n    const $Entry = Entry(indent, $partialWrap);\n    const $Entries = Entries($Entry);\n    const $Title = Title(width, wrapLine);\n\n    return state => [\n        verbose && Report($Entries, $Title, state.results),\n        state.summary && [\n            Failures($Entries, $Title, $partialWrap, indent, state.failures),\n            verbose && Log($Entries, $Title, state.logs),\n            Summary($Title, state.summary)\n        ],\n        !state.summary && Loading(state.elapsed)\n    ].flat(2);\n};\n\nexport default options => state => ({\n    ...state,\n    render: state |> render(options) |> layout(options)\n});\n","const clearAll = '\\x1Bc\\r';\n\nexport default event => state => {\n    if (state.needsUpdate && !state.write_lock) {\n        event('write', { write_lock: true });\n\n        process.stdout.write(\n            clearAll + state.render,\n            null,\n            () => setTimeout(\n                () => event('write', { write_lock: false }),\n                20\n            )\n        )\n    }\n\n    return state;\n};","export default (resize, event) => {\n    if (resize) {\n        process.stdout.on('resize', event);\n        // keep the terminal session open\n        setInterval(() => {}, 300);\n    }\n}","export default (event, delta) => {\n    const timer = setInterval(event, delta);\n    return { stop: () => clearInterval(timer) }\n}","#!/usr/bin/env node\n\nimport Parser from 'tap-parser';\nimport { _ } from './utils.js';\nimport { Event, passEvent } from './events.js';\nimport logEvent from './logEvent.js';\nimport { init, update, mutate } from './states/state.js';\nimport render from './render.js';\nimport print from './io/print.js';\nimport resize from './io/resize.js';\nimport Clock from './io/clock.js';\nimport * as options from './options.js';\n\nconst store = init();\n\nconst main = state =>\n    state\n    |> update\n    |> render(options)\n    |> mutate(store)\n    |> print(event)\n    |> release(clock)\n;\n\nconst parser = new Parser();\nconst event = _(passEvent(store, main));\nconst register = e => logEvent(event('log'), Event(e));\n\nparser.on('result', event('result'));\nparser.on('comment', register('comment'));\nparser.on('complete', register('complete'));\nparser.on('result', register('result'));\nparser.on('complete', event('complete'));\nresize(options.resize, event('resize'))\nconst clock = Clock(event('clock'), 120);\n\nconst release = clock => ({ end }) =>\n    end && clock.stop()\n;\n\nprocess.stdin.pipe(parser);\n\nconsole.clear();\n"],"names":["id","x","compose","f","g","apply","pipe","fs","reduceRight","_","xs","reduce","eq","a","b","prop","p","defined","undefined","hasProp","either","t","last","arr","length","init","slice","empty","not","$","method","args","Error","map","Array","isArray","Object","fromEntries","entries","$$","repeat","s","n","fill","join","spaces","wrap","before","after","splitJoin","s1","s2","str","split","indent","safe","out","Event","type","value","is","isNot","passEvent","store","frame","event","isLog","text","substring","cleanup","replace","removeLastReturn","log","message","concatMessage","local","result","send","source","reduceStatus","every","find","isLeaf","getStatus","searchChild","skip","todo","ok","statusOf","childNode","values","push","path","node","index","name","next","done","flattenBranches","level","entry","status","fold","flatMap","getLastResult","ResultsTree","pathResolver","root","latest","findResult","i","filterResults","results","acc","resolvePath","match","includes","isNoTestFound","isException","isUncaughtException","isExceptionHandlerRunTimeFailure","standardName","noTestFoundToStandard","exceptionToStandard","normaliseName","diagName","normaliseFailure","diag","resultToEntries","isFailure","computeEntries","subset","assocPath","needsUpdate","write_lock","elapsed","resultsTree","logs","failures","summary","render","end","mutate","state","updateLogs","Log","updateResults","failure","Failure","newTree","updateElapsed","updateSummary","updateNeedsUpdate","updateWriteLock","updateEnd","update","options","process","argv","key","val","width","Math","min","stdout","columns","Infinity","verbose","Boolean","resize","themeVariant","theme","defaultDescription","dark","default","pass","fail","info","mixed","run","digit","braces","word","background","light","emptyVariant","getUserTheme","JSON","parse","readFileSync","encoding","flag","readColors","model","chalk","readVariant","d","readTheme","dfault","variant","hasStyle","stripAnsi","colors","bg","italic","underline","bold","icons","reg","matches","exec","isJSONLike","first","startBrackets","endBrackets","syntaxColor","entryStyle","wrapLine","max","separators","lines","len","trimEnd","layout","line","formatEntry","indentBy","belongsToNextSuite","groups","lastEntry","groupBySuite","Entry","_title","color","w","space","floor","dots","waits","Title","report","Entries","filter","print","count","difference","extractAt","at","multiline","coordOf","bannerText","assertion","detail","DiffFailure","style","details","DetailedFailure","LaconicFailure","nbsp","formatMessage","atInBanner","atInText","indentation","title","origin","format","$partialWrap","$Entry","$Entries","$Title","Report","Failures","Summary","Loading","flat","clearAll","write","setTimeout","on","setInterval","delta","timer","stop","clearInterval","main","release","clock","parser","Parser","register","e","logEvent","Clock","stdin","console","clear"],"mappings":"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"}